{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/client/components/header.tsx","webpack:///./src/client/components/order_card.tsx","webpack:///./src/client/components/orders_list.tsx","webpack:///./src/client/index.tsx"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/client/index.tsx\");\n","import * as React from 'react'\n\ninterface IHeaderProps {\n  handleInitCallback: () => void\n  setFilterCallback: (filter: string) => void\n}\n\nexport function Header(props: IHeaderProps) {\n  const [dropdownActive, setDropdownActive] = React.useState(false)\n  const [orderFilter, setOrderFilter] = React.useState('')\n  const { handleInitCallback, setFilterCallback } = props\n\n  function handleInputChange(e: React.FormEvent<HTMLInputElement>) {\n    const ev = e.currentTarget\n  }\n\n  function toggleDropdown(e: React.SyntheticEvent<EventTarget>) {\n    setDropdownActive(!dropdownActive)\n  }\n\n  function closeDropdown() {\n    if (dropdownActive) {\n      setTimeout(() => {\n        setDropdownActive(false)\n      }, 300)\n    }\n  }\n\n  function onInputKeyPressed(e: React.FormEvent<HTMLInputElement>) {\n    console.log(e)\n  }\n\n  return (\n    <header className=\"flex flex-wrap rounded-lg shadow-lg mx-4 border border-gray-800\">\n      <div className=\"title mx-4 mt-4 text-xl\">\n        Front-end Engineering Challenge\n        <span className=\"block text-sm\">by Derek Rush</span>\n      </div>\n      <div className=\"flex-1 mx-4\">\n        <div className=\"push_button blue_push\" onClick={handleInitCallback}>\n          Initialize\n        </div>\n      </div>\n      <input\n        className=\"w-1/4 lg:w-1/5 m-4\"\n        name=\"name\"\n        type=\"text\"\n        placeholder=\"Filter\"\n        value={name}\n        onChange={handleInputChange}\n        onClick={toggleDropdown}\n        onKeyDown={onInputKeyPressed}\n      />\n      <div\n        className={`${dropdownActive ? 'block' : 'hidden'} dropdown-options`}\n      />\n    </header>\n  )\n}\n","import * as React from 'react'\nimport { IOrder } from '../index'\n\ninterface IOrderProps {\n  eventName: string\n  destination: string\n  name: string\n  id: string\n  history: Array<IOrder>\n}\n\ninterface IOrderState {\n  showingHistory: boolean\n}\n\nexport class OrderCard extends React.Component<IOrderProps, IOrderState> {\n  constructor(props: IOrderProps) {\n    super(props)\n    this.state = {\n      showingHistory: false,\n    }\n\n    this.humanizeStatus = this.humanizeStatus.bind(this)\n    this.colorizeStatus = this.colorizeStatus.bind(this)\n    this.toggleHistory = this.toggleHistory.bind(this)\n  }\n\n  public humanizeStatus(status: string): string {\n    if (status === 'CREATED') {\n      return 'Cooking Now'\n    } else if (status === 'COOKED') {\n      return 'Prepared'\n    } else if (status === 'DRIVER_RECEIVED') {\n      return 'Out for Delivery'\n    } else if (status === 'DELIVERED') {\n      return 'Delivered'\n    } else {\n      return 'Cancelled'\n    }\n  }\n\n  public colorizeStatus(status: string): string {\n    if (status === 'CREATED') {\n      return 'yellow'\n    } else if (status === 'COOKED') {\n      return 'orange'\n    } else if (status === 'DRIVER_RECEIVED') {\n      return 'blue'\n    } else if (status === 'DELIVERED') {\n      return 'green'\n    } else {\n      return 'red'\n    }\n  }\n\n  toggleHistory(e: React.SyntheticEvent<EventTarget>) {\n    e.preventDefault()\n    const { showingHistory } = this.state\n    this.setState({ showingHistory: !showingHistory })\n  }\n\n  public render(): JSX.Element {\n    const { showingHistory } = this.state\n    const { eventName, destination, name, id, history } = this.props\n    return (\n      <div className={`order-card-basic ${this.colorizeStatus(eventName)}`}>\n        {!showingHistory ? (\n          <div>\n            <div className=\"history-action text-xs\">\n              <a href=\"#\" onClick={this.toggleHistory}>\n                History\n              </a>\n            </div>\n            <div>\n              <label className=\"text-xs\">Status</label>\n              <p className=\"status-text\">{this.humanizeStatus(eventName)}</p>\n            </div>\n            <div>\n              <label className=\"text-xs\">Destination</label>\n              <p>{destination}</p>\n            </div>\n            <div className=\"flex\">\n              <div className=\"flex-1\">\n                <label className=\"block text-xs\">Name</label>\n                <p className=\"block\">{name}</p>\n              </div>\n              <div>\n                <label className=\"block text-xs text-right\">ID</label>\n                <p className=\"block text-right\">{id}</p>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div>\n            <div className=\"history-action text-xs\">\n              <a href=\"#\" onClick={this.toggleHistory}>\n                Info\n              </a>\n            </div>\n            {history.map((hist, i) => (\n              <div key={`history_${i}_${id}`}>\n                <div className=\"mt-2\">\n                  <p>{this.humanizeStatus(hist.event_name)}</p>\n                  <label className=\"text-xs\">\n                    Sent {hist.sent_at_second} seconds ago\n                  </label>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    )\n  }\n}\n","import * as React from 'react'\nimport { OrderCard } from './order_card'\nimport { IOrder } from '../index'\n\ninterface IOrdersProps {\n  orders: Array<IOrder>\n}\n\ninterface IOrdersState {\n  filter: string\n}\n\nexport class OrderList extends React.Component<IOrdersProps, IOrdersState> {\n  constructor(props: IOrdersProps) {\n    super(props)\n    this.state = {\n      filter: '',\n    }\n  }\n\n  public render(): JSX.Element {\n    const { orders } = this.props\n    return (\n      <div>\n        <ul className=\"flex flex-wrap mx--4\">\n          {orders.map((ord, i) => (\n            <li\n              key={`ev_${i}_${ord.id}`}\n              className=\"w-full md:w-1/2 lg:w-1/4 list-none p-4\"\n            >\n              <OrderCard\n                destination={ord.destination}\n                eventName={ord.event_name}\n                name={ord.name}\n                history={ord.history}\n                id={ord.id}\n              />\n            </li>\n          ))}\n        </ul>\n      </div>\n    )\n  }\n}\n","import * as React from 'react'\nimport * as ReactDOM from 'react-dom'\nimport * as ioClient from 'socket.io-client'\nimport { Header } from './components/header'\nimport { OrderList } from './components/orders_list'\nconst endpoint = 'http://localhost:5000/api'\nimport './styles/default.css'\n\nexport interface IOrder {\n  id: string\n  name: string\n  destination: string\n  event_name: string\n  history: Array<IOrder>\n  sent_at_second: number\n}\n\ninterface IAppState {\n  orders: Array<IOrder>\n}\n\nclass App extends React.Component<{}, IAppState> {\n  constructor(props: Object) {\n    super(props)\n    this.state = {\n      orders: [],\n    }\n\n    this.initializeDataStream = this.initializeDataStream.bind(this)\n    this.setFilter = this.setFilter.bind(this)\n  }\n\n  public initializeDataStream(): void {\n    this.setState({ orders: [] })\n    const socket = ioClient.connect(endpoint)\n    socket.emit('initialize', { event: 'INIT' })\n    socket.on('FromAPI', responses => {\n      for (let resOrder of responses) {\n        const { orders } = this.state\n        if (resOrder.event_name === 'CREATED') {\n          this.setState(prevState => ({\n            orders: prevState.orders.concat({\n              ...resOrder,\n              history: [resOrder],\n            }),\n          }))\n        } else {\n          this.setState(prevState => ({\n            orders: prevState.orders.map(ord =>\n              ord.id === resOrder.id\n                ? {\n                    ...ord,\n                    event_name: resOrder.event_name,\n                    history: ord.history.concat({ ...resOrder, active: true }),\n                  }\n                : ord\n            ),\n          }))\n        }\n      }\n    })\n  }\n\n  public setFilter(filter: string): void {\n    console.log('FILTER', filter)\n  }\n\n  public render(): JSX.Element {\n    const { orders } = this.state\n    return (\n      <div className=\"container mx-auto my-8\">\n        <Header\n          handleInitCallback={this.initializeDataStream}\n          setFilterCallback={this.setFilter}\n        />\n        {orders.length > 0 ? (\n          <OrderList orders={orders} />\n        ) : (\n          <p className=\"title mx-4 text-xl mt-4\">Loading...</p>\n        )}\n      </div>\n    )\n  }\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}